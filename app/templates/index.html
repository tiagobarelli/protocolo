{% extends "base.html" %}
{% block title %}Portal de Protocolos{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
{% endblock %}

{% block flash_messages %}{% endblock %}
{% block content %}
<!-- Hamburger (fallback mobile) -->
<button type="button" class="hamburger-btn" onclick="toggleSidebar()">
  <i class="ph ph-list"></i>
</button>
<div class="sidebar-overlay"></div>

<div class="app-layout">
  {% include "partials/sidebar.html" %}

<!-- CONTEÚDO PRINCIPAL -->
  <main class="main-content">
    {% include "partials/flash_messages.html" %}
    <div class="filters-bar">
      <div class="filter-group">
        <label for="filtroResponsavel">Responsável</label>
        <select id="filtroResponsavel">
          <option value="">Todos</option>
        </select>
      </div>
      <div class="filter-group">
        <label for="filtroStatus">Status</label>
        <select id="filtroStatus">
          <option value="Em andamento" selected>Em andamento</option>
          <option value="">Todos</option>
          <option value="Finalizado">Finalizado</option>
          <option value="Cancelado">Cancelado</option>
        </select>
      </div>
      <div class="filter-summary" id="filterSummary"></div>
    </div>

    <div class="protocol-grid" id="protocolGrid"></div>

    <div class="loading-state" id="loadingState">
      <div class="spinner"></div>
      Carregando protocolos...
    </div>

    <div class="empty-state" id="emptyState" style="display: none;">
      <i class="ph ph-folder-open"></i>
      Nenhum protocolo encontrado para os filtros selecionados.
    </div>
  </main>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/index.js') }}"></script>
{% endblock %}
